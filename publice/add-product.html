<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <nav>
      <a href="index.html">back</a>
    </nav>
    <h1>add products</h1>
    <input id="title" type="text" placeholder="Title" />
    <input id="desc" type="text" placeholder="Description" />
    <input id="price" type="number" placeholder="Price" />
    <input id="stock" type="number" placeholder="Stock" />
    <button onclick="saveProducts()">submit</button>

    <script>
      async function saveProducts() {
        var data = {
          title: document.getElementById("title").value,
          desc: document.getElementById("desc").value,
          price: document.getElementById("price").value,
          stock: document.getElementById("stock").value
        }

        var res = await fetch("/api/products",{
          method: "POST",
          body: JSON.stringify(data),
          headers: { "content-type": "application/json" }
        })
        res = await res.json()

        alert("Product Submit!")
        window.location.reload()
      }
    </script>
  </body>
</html>
